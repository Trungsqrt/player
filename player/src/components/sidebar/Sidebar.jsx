import { useState, useEffect } from "react";

import SidebarButton from "./SidebarButton";
import apiClient from "../../spotify";

import sidebarStyles from "./Sidebar.module.css";

import { MdFavorite } from "react-icons/md";
import { FaGripfire, FaPlay } from "react-icons/fa";
import { FaSignOutAlt } from "react-icons/fa";
import { IoLibrary } from "react-icons/io5";
import { MdSpaceDashboard } from "react-icons/md";

function Sidebar() {
   const [image, setImage] = useState(
      "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRdLAY3C19kL0nV2bI_plU3_YFCtra0dpsYkg&usqp=CAU"
   );

   // get and set avatar
   useEffect(() => {
      apiClient.get("me").then((response) => {
         setImage(response.data?.images[0]?.url);
      });
   }, []);
   return (
      <div className={sidebarStyles["sidebar-container"]}>
         <img
            src="data:image/jpeg;base64,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"
            className={sidebarStyles["profile-img"]}
            alt="avt"
         />
         <div>
            <SidebarButton title="Feed" to="/feed" icon={<MdFavorite />} />

            <SidebarButton
               title="Trending"
               to="/trending"
               icon={<FaGripfire />}
            />

            <SidebarButton title="Player" to="/player" icon={<FaPlay />} />

            <SidebarButton
               title="Favourite"
               to="/favourite"
               icon={<MdFavorite />}
            />

            <SidebarButton title="Library" to="/" icon={<IoLibrary />} />
         </div>
         <div
            onClick={() => {
               localStorage.removeItem("token");
               window.location.reload();
            }}
         >
            <SidebarButton title="Sign out" icon={<FaSignOutAlt />} />
         </div>
      </div>
   );
}

export default Sidebar;
